<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="<%= Routes.static_path(@conn, "/css/app.css") %>"/>
    </head>

    <body>

        <div class="title">
            a
        </div>
        
        <div class="navigation">
            <div class="navi">aaa</div>
            <div class="navi">aaa</div>
            <div class="navi">aaa</div>
            <div class="navi">aaa</div>
        </div>

        <div class="classes">
            <div class="rsrv">
                <div class="subject"  onClick='cl("math",3)'>数学</div>
                
                <div id="math">
                <%= for n <- 1..3 do %>
                    <div class="teacher">aaaa</div>
                <% end %>
                </div>

            </div>

            <div class="rsrv">
                <div class="subject" onClick='cl("sience",4)'>理科</div>
                <div id="sience">
                <%= for n <- 1..4 do %>
                    <div class="teacher">aaaa</div>
                <% end %>
                </div>
            </div>

            <div class="rsrv">
                <div class="subject" onClick='cl("social",3)'>社会</div>
                <div id="social">
                <%= for n <- 1..3 do %>
                    <div class="teacher">aaaa</div>
                <% end %>
                </div>
            </div>

            <div class="rsrv">
                <div class="subject" onClick='cl("japanese",2)'>国語</div>
                <div id="japanese">
                <%= for n <- 1..2 do %>
                    <div class="teacher">aaaa</div>
                <% end %>
                </div>
            </div>

            <div class="rsrv">
                <div class="subject" onClick='cl("english",5)'>英語</div>
                <div id="english">
                <%= for n <- 1..5 do %>
                    <div class="teacher">aaaa</div>
                <% end %>
                </div>
            </div>
        </div>

    </body>

    <script type="text/javascript">
        t=true
        subject='math'
        num=0
        function cl(sub,n){
            if(subject != sub && !t){
                cl(subject,num)
                subject = sub
                num = n
            }
            let m = document.getElementById(sub).children

            if(t){
                for(let i=1;i<=n;i++){
                    m[i-1].style.top = 12.1*i+"vh"
                    m[i-1].style.top = "calc((12vh+7px)*"+i+")"
                    m[i-1].style.top = "-webkit-calc((12vh+7px)*"+i+")"
                    m[i-1].style.top = "-moz-calc((12vh+7px)*"+i+")"
                    t=false
                }
            }else{
                for(let i=0;i<n;i++){
                    m[i].style.top = "0"
                    t=true
                }
            }
            subject = sub
            num = n
    
        }
    
    </script>

    <style>

        body{
            width:100%;
            padding:0 5px;
            margin:5px auto;
        }

        .title{
            width:100%;
            height:17vh;
            background: #eee;
            text-align:center;
            padding:auto 0;
            margin-bottom:10px;
        }

        .navigation{
            width:100%;
            padding:0 5%;
        }

        .navigation .navi{
            float:left;
            width:25%;
            padding: 4vh 0;
            text-align: center;
            border: 1px solid #000000;
            background: #eee;
            margin-bottom: 10px;
            font-weight: 200;
            font-size: 120%;
        }

        .classes{
            width:100%;
            padding:0 5%;
        }

        .classes .subject{
            position:relative;
            padding: 4vh 0;
            text-align: center;
            border: 1px solid #000000;
            background: #eee;
            margin-bottom: 10px;
            font-weight: 200;
            font-size: 120%;
            z-index:100000;
        }

        .classes .rsrv{
            position:relative;
            float:left;
            width:20%;
            vertical-align:text-top;
        }

        .classes .teacher{
            position:absolute;
            transition: 1s;
            top:0;
            width:100%;
            padding: 4vh 0;
            text-align: center;
            border: 1px solid #000000;
            background: #eee;
            margin-bottom: 10px;
            font-weight: 200;
            font-size: 120%;
            z-index:10;
        }
    </style>
</html>